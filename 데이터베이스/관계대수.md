# 관계 대수
- 관계 대수(relational algebra): 원하는 데이터를 얻기 위해 데이터를 어떻게 찾는지에 대한처리 과정을 명시하는 절차적인 언어
- 관계 해석(relational calculus): 원하는 결과를 얻기 위해, 찾기를 원하는 데이터가 무엇인지만 명시하는 선언적인(비절차적인) 언어

관계 대수나 관계 해석으로 기술할 수 있는 모든질의를 기술할 수 있는 데이터베이스 언어를 관계적으로 완전(relationally complete)하다고 판단함

### 관계 대수식
관계대수 : 릴레이션 간 연산을 통해 결과 릴레이션을 찾는 절차를 기술한 언어, 이 연산을 수행하기 위한 식을 관계대수식(relationalalgebra expression)이라고 한다.

- 단항 연산자: 연산자 릴레이션
- 이항 연산자: 릴레이션1 연산자 릴레이션2

# 관계 대수 연산자
### 셀렉트
릴레이션에서 조건을 만족하는 투플을 추출하기 위한 연산자

- 단항 연산자
- 형식 : σ셀렉트조건 (R)
- 릴레이션의 속성, 상수, 비교 연산자( = , <>, <=,<, >=, >), 논리 연산자(AND, OR)를 조합하여 사용

![image](https://github.com/user-attachments/assets/339cecef-3f0d-4e18-83f3-3fb0b619ce92)

예시 1

![image](https://github.com/user-attachments/assets/b2cabfa2-3cc4-4996-99f4-1a6e43e78564)

예시 2

### 프로젝트
릴레이션에서 주어진 속성들의 값으로만 구성된 투플을 추출하기 위한 연산

- 단항 연산자
- 형식 : π속성리스트 (R)
- 셀렉트의 결과 릴레이션은 중복 투플이 없지만, 프로젝트 결과 릴레이션은 중복된 투플들 존재 가능. 그러나, 최종 결과 릴레이션에는 중복된 투플은 제거됨

![image](https://github.com/user-attachments/assets/f461ad62-8157-47a6-9ed7-d2e3961e7b11)

예시 1

![image](https://github.com/user-attachments/assets/52c0b233-2778-4ec1-86ce-c0be76cb9a22)

예시 2

기타 예시들
- 등급이 ‘gold’인 고객의 이름과 나이를 검색 -> π이름, 나이(σ등급='gold'(고객))
- C001 고객이 주문한 P003 제품의 판매자 이름과 수수료를 검색-> π이름, 수수료(σ고객번호='C001' AND 제품번호='P003'(판매자⋈주문))
- A005 판매자에게 주문하지 않은 고객의 이름을 모두 검색 -> π이름(고객) - π이름(σ판매자번호='A005'(주문⋈고객))
- 주문된 적이 있는 제품에 대해서만 제품명과 가격을 검색 -> π제품명, 가격(제품

### 집합 연산자
- 합집합: R ∪ S 
- 차집합: R – S (R에는 속하지만 S에는 속하지 않은 투플)
- 교집합: R ∩ S
- 카티션 프로덕트: R × S (차수(속성)가 n+m이고, 카디날리티(투플)가 i*j)

# 조인
릴레이션 하나로 원하는 데이터를 얻을 수 없어, 관계가 있는 여러 릴레이션을 함께 사용해야 하는 경우 사용, 두 릴레이션의 공통 속성(조인 속성)을 기준으로 속성값이 같은 투플을 수평으로 결합하는 연산자

### 동등 조인
![image](https://github.com/user-attachments/assets/10766fd1-8c02-428b-8f43-d763159baf76)

조인에 참여하는 두 릴레이션의 속성 값을 비교하여 그 값이 같은 투플만 반환한다. 중복된 속성이 있을 수 있다. ⋈

### 자연 조인
![image](https://github.com/user-attachments/assets/0f375999-6c7f-42b8-a951-710fef456dd3)

동등 조인에서 조인에 참여한 속성이 두 번 나오지 않도록 두 번째 속성을 제거한 결과를 반환한다. 여러 가지 조인 연산자들 중에서 가장 자주 사용된다. ⋈N

# 외부 조인
자연조인 시 조인에 실패한 투플을 모두 보여주되 값이 없는 대응 속성에는 NULL 값을 채워서 반환한다. 모든 속성을 보여주는 기준 릴레이션의 위치에 따라 왼쪽(left) 외부조인, 오른쪽(right) 외부조인, 완전(full)외부조인으로 나뉜다. 

### 왼쪽 외부 조인
![image](https://github.com/user-attachments/assets/0149354a-3748-44f8-b497-8a99d0f98ea8)

릴레이션 R과 S의 왼쪽 외부 조인 연산은 R의 모든 투플들을 결과에 포함시키고, 만일 릴레이션 S에 관련된 투플이 없으면 결과 릴레이션에서 릴레이션 S의 속성들은 널값으로 채움 ⟕

### 오른쪽 외부 조인
![image](https://github.com/user-attachments/assets/0d3fe60c-7dbc-4f2d-9f8a-4e881513a528)
릴레이션 R와 S의 오른쪽 외부 조인 연산은 S의 모든 투플들을 결과에 포함시키고, 만일 릴레이션 R 에 관련된 투플이 없으면 결과 릴레이션에서 릴레이션 R의 속성들은 널값으로 채움 ​⟖

### 완전 외부 조인
![image](https://github.com/user-attachments/assets/c4b830bc-b7f4-4109-8447-4410415d7def)

릴레이션 R와 S의 완전 외부 조인 연산은 R과 S의 모든 투플들을 결과에 포함시키고, 만일 상대 릴레이션에 관련된 투플이 없으면 결과 릴레이션에서 상대 릴레이션의 속성들은널값으로 채움 ⟗
